<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/style.css" />
    <title>CSS Project</title>
  </head>
  <body>
    <nav id="primary-nav">
      <div id="logo">
        <div class="compose__link">
          <button id="compose-btn" class="primary-btn">
            <span class="compose-icon"></span>
            Compose
          </button>
        </div>
      </div>
      <ul class="nav__links">
        <li class="nav__link">
          <a href="#">
            <span class="inbox-icon">Inbox Icon</span>
            Inbox <span id="unread-count">unread</span>
          </a>
        </li>
        <li class="nav__link">
          <a href="#">
            <span class="draft-icon">Drafts Icon</span>
            Drafts
          </a>
        </li>
        <li class="nav__link">
          <a href="#">
            <span class="star-icon">Starred Icon</span>
            Starred
          </a>
        </li>
        <li class="nav__link">
          <a href="#">
            <span class="trash-icon">Trash Icon</span>
            Trash
          </a>
        </li>
      </ul>
      <button id="close-btn" class="desktop-hidden">Close menu</button>
      <div id="nav__container" class="nav__container" aria-hidden="true"></div>
    </nav>
    <div id="scrim" aria-hidden="true"></div>
    <header id="main-header">
      <button id="menu-btn" class="desktop-hidden">
        <span class="menu-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Open Menu</span>
      </button>
      <div id="greeting">
        <h1></h1>
        <span id="clock"><time id="current-date" class="mobile-hidden"></time>
      </div>
      <form id="search" class="search-bar card">
        <label for="search-bar" class="visually-hidden">Search</label>
        <input
          type="text"
          id="search-bar"
          class="mobile-hidden"
          placeholder="Search"
        />
        <button>
          <span class="search-icon"></span>
          <span class="visually-hidden">Search Icon</span>
        </button>
      </form>
    </header>
    <main id="email-list" data-theme='long'>
      <section>
        <header>
          <h3>1 pinned message</h3>
        </header>
        <ul class="home__pinned" role="group">
          <li class="email" id="email1" role="listitem">
            <div class="card email__unread">
              <div class="email__actions">
                <span class="email__initials" aria-hidden="true"> 
                  <img
                  alt="Kariyma Murphy profile photo"
                  src="https://mir-s3-cdn-cf.behance.net/user/276/5e23674548351.5eae0a14a6ea0.jpg"
                /> 
              </span>
                <input
                  id="select_email1"
                  type="checkbox"
                  class="email__checkbox"
                  name="select_email1"
                />
                <span class="checkmark" aria-hidden="true"></span>
                <label for="select_email1" aria-describedby="author1">
                  JJ
                </label>
              </div>
              <div class="email__details">
                <form id="author1">
                  <label for="view-email" class="visually-hidden"
                    >View email</label
                  >
                  <input id="view-email" type="submit" />
                </form>
                <h3>Kariyma Murphy</h3>
                <p><span>Click me!</span> - Example Newsletter But I must explain to you how all this mistaken idea of denouncing pleasure and praising pain was born and</p>
                <div class="email__priority">
                  <div>
                    <time class="email__datetime" datetime="2024-11-18 19:00">
                      6:00PM</time
                    >
                    <div class="email__star-container">
                      <input
                        id="star-email1"
                        type="checkbox"
                        class="star__checkbox"
                        name="star-email1"
                      />
                      <span class="star-icon"></span>
                      <label for="star-email1"> star this email </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </li>
        </ul>
      </section>
      <section id="all-emails">
        <header>
          <h3>4 messages</h3>
        </header>
        <ul class="home__list">
          <li class="email" id="email2">
            <div class="card">
              <div class="email__actions" aria-describedby="author2">
                <span class="email__initials" aria-hidden="true">
                  <img
                  alt="Peter Potamus profile picture"
                  src="https://cdn.hanna-barberawiki.com/thumb/7/7f/HBAAL_Peter_Potamus.png/600px-HBAAL_Peter_Potamus.png"
                /> 
                   </span>
                <input
                  id="select_email2"
                  type="checkbox"
                  class="email__checkbox"
                  name="select_email2"
                />
                <span class="checkmark" aria-hidden="true"></span>
                <label for="select_email2"> From </label>
              </div>
              <div class="email__details">
                <a href="#" id="author3">
                  <span class="visually-hidden">Link</span>
                </a>
                <h3>Peter Potamus</h3>
                <p>
                  <span>Did you get that thing I sent you?</span> - Did you get that thing I sent you? - Potamus
                </p>
                <div class="email__priority">
                  <div>
                    <time class="email__datetime" datetime="2024-11-18 19:00">
                      6:00PM</time
                    >
                  </div>
                  <div class="email__star-container">
                    <input
                      id="star-email2"
                      type="checkbox"
                      class="star__checkbox"
                      name="star-email2"
                    />
                    <span class="star-icon"></span>
                    <label for="star-email2"> star this email </label>
                  </div>
                </div>
              </div>
            </div>
          </li>
          <li class="email" id="email3" role="listitem">
            <div class="card">
              <div class="email__actions">
                <span class="email__initials" aria-hidden="true"> 
                  <img
                  alt="Kariyma Murphy profile photo"
                  src="https://mir-s3-cdn-cf.behance.net/user/276/5e23674548351.5eae0a14a6ea0.jpg"
                /> 
                   </span>
                <input
                  id="select_email3"
                  type="checkbox"
                  class="email__checkbox"
                  name="select_email3"
                />
                <span class="checkmark" aria-hidden="true"></span>
                <label for="select_email3" aria-describedby="author1">
                  JJ
                </label>
              </div>
              <div class="email__details">
                <a href="#" id="author3">
                  <span class="visually-hidden">Link</span>
                </a>
                <h3>Kariyma Murphy</h3>
                <p><span>Click me!</span> - Example Newsletter But I must explain to you how all this mistaken idea of denouncing pleasure and praising pain was born and</p>
                <div class="email__priority">
                  <div>
                    <time class="email__datetime" datetime="2024-11-18 19:00">
                      6:00PM</time
                    >
                    <img
                      src="/assets/svg/pin-illustrative.svg"
                      alt="Pin icon"
                      class="pinned-icon visible"
                    />
                  </div>
                </div>
              </div>
            </div>
          </li>
          <li class="email" id="email4">
            <div class="card">
              <div class="email__actions" aria-describedby="author3">
                <span class="email__initials" aria-hidden="true"> AS </span>
                <input
                  id="select_email4"
                  type="checkbox"
                  class="email__checkbox"
                  name="select_email4"
                />
                <span class="checkmark" aria-hidden="true"></span>
                <label for="select_email4"> From </label>
              </div>
              <div class="email__details">
                <a href="#" id="author4">
                  <span class="visually-hidden">Link</span>
                </a>
                <h3>Administrative Support</h3>
                <p>
                  <span>Sign-up for Holiday Potluck!</span> - We will be gathering
                  for a holiday celebration on November 16th in conference room
                  B at 3:00PM.
                </p>
                <div class="email__priority">
                  <div>
                    <time class="email__datetime" datetime="2024-11-18 19:00">
                      Nov 5</time
                    >
                  </div>
                  <div class="email__star-container">
                    <input
                      id="star-email4"
                      type="checkbox"
                      class="star__checkbox"
                      name="star-email4"
                    />
                    <span class="star-icon"></span>
                    <label for="star-email4"> star this email </label>
                  </div>
                </div>
              </div>
            </div>
          </li>
          <li class="email" id="email5">
            <div class="card">
              <div class="email__actions" aria-describedby="author4">
                <span class="email__initials" aria-hidden="true">
                  <img
                    alt="J. Jonah Jameson profile photo"
                    src="https://upload.wikimedia.org/wikipedia/en/c/c4/J._K._Simmons_as_J._Jonah_Jameson_in_Spider-Man_3.png"
                  />
                </span>
                <input
                  id="select_email5"
                  type="checkbox"
                  class="email__checkbox"
                  name="select_email5"
                />
                <span class="checkmark" aria-hidden="true"></span>
                <label for="select_email5"> From </label>
              </div>
              <div class="email__details">
                <a href="#" id="author5">
                  <span class="visually-hidden">Link</span>
                </a>
                <h3>J. Jonah Jameson</h3>
                <p>
                  <span>[URGENT] I need pictures of Spiderman!</span> - Get them on my desk
                  by 8:00AM!!
                </p>
                <div class="email__priority">
                  <div>
                    <time class="email__datetime" datetime="2024-11-18 19:00">
                      Nov 5</time
                    >
                  </div>
                  <div class="email__star-container">
                    <input
                      id="star-email5"
                      type="checkbox"
                      class="star__checkbox"
                      name="star-email5"
                    />
                    <span class="star-icon"></span>
                    <label for="star-email5"> star this email </label>
                  </div>
                </div>
              </div>
            </div>
          </li>
          <li class="email">
            <div class="card">
              <div class="email__actions">
                <span class="email__initials" aria-hidden="true">
                  EX
                </span>
                <input
                  type="checkbox"
                  class="email__checkbox"
                  name="select_email5"
                />
                <span class="checkmark" aria-hidden="true"></span>
                <label> From </label>
              </div>
              <div class="email__details">
                <a href="#">
                  <span class="visually-hidden">Link</span>
                </a>
                <h3>Example</h3>
                <p>
                  <span>Subject</span> - Body
                </p>
                <div class="email__priority">
                  <div>
                    <time class="email__datetime" datetime="2024-11-18 19:00">
                      Nov 5</time
                    >
                  </div>
                  <div class="email__star-container">
                    <input
                      type="checkbox"
                      class="star__checkbox"
                      name="star-email5"
                    />
                    <span class="star-icon"></span>
                    <label> star this email </label>
                  </div>
                </div>
              </div>
            </div>
          </li>
          <li class="email">
            <div class="card">
              <div class="email__actions">
                <span class="email__initials" aria-hidden="true">
                  EX
                </span>
                <input
                  type="checkbox"
                  class="email__checkbox"
                  name="select_email5"
                />
                <span class="checkmark" aria-hidden="true"></span>
                <label> From </label>
              </div>
              <div class="email__details">
                <a href="#">
                  <span class="visually-hidden">Link</span>
                </a>
                <h3>Example</h3>
                <p>
                  <span>Subject</span> - Body
                </p>
                <div class="email__priority">
                  <div>
                    <time class="email__datetime" datetime="2024-11-18 19:00">
                      Nov 5</time
                    >
                  </div>
                  <div class="email__star-container">
                    <input
                      type="checkbox"
                      class="star__checkbox"
                      name="star-email5"
                    />
                    <span class="star-icon"></span>
                    <label> star this email </label>
                  </div>
                </div>
              </div>
            </div>
          </li>
          <li class="email">
            <div class="card">
              <div class="email__actions">
                <span class="email__initials" aria-hidden="true">
                  EX
                </span>
                <input
                  type="checkbox"
                  class="email__checkbox"
                  name="select_email5"
                />
                <span class="checkmark" aria-hidden="true"></span>
                <label> From </label>
              </div>
              <div class="email__details">
                <a href="#">
                  <span class="visually-hidden">Link</span>
                </a>
                <h3>Example</h3>
                <p>
                  <span>Subject</span> - Body
                </p>
                <div class="email__priority">
                  <div>
                    <time class="email__datetime" datetime="2024-11-18 19:00">
                      Nov 5</time
                    >
                  </div>
                  <div class="email__star-container">
                    <input
                      type="checkbox"
                      class="star__checkbox"
                      name="star-email5"
                    />
                    <span class="star-icon"></span>
                    <label> star this email </label>
                  </div>
                </div>
              </div>
            </div>
          </li>
          <li class="email">
            <div class="card">
              <div class="email__actions">
                <span class="email__initials" aria-hidden="true">
                  EX
                </span>
                <input
                  type="checkbox"
                  class="email__checkbox"
                  name="select_email5"
                />
                <span class="checkmark" aria-hidden="true"></span>
                <label> From </label>
              </div>
              <div class="email__details">
                <a href="#">
                  <span class="visually-hidden">Link</span>
                </a>
                <h3>Example</h3>
                <p>
                  <span>Subject</span> - Body
                </p>
                <div class="email__priority">
                  <div>
                    <time class="email__datetime" datetime="2024-11-18 19:00">
                      Nov 5</time
                    >
                  </div>
                  <div class="email__star-container">
                    <input
                      type="checkbox"
                      class="star__checkbox"
                      name="star-email5"
                    />
                    <span class="star-icon"></span>
                    <label> star this email </label>
                  </div>
                </div>
              </div>
            </div>
          </li>
          <li class="email">
            <div class="card">
              <div class="email__actions">
                <span class="email__initials" aria-hidden="true">
                  EX
                </span>
                <input
                  type="checkbox"
                  class="email__checkbox"
                  name="select_email5"
                />
                <span class="checkmark" aria-hidden="true"></span>
                <label> From </label>
              </div>
              <div class="email__details">
                <a href="#">
                  <span class="visually-hidden">Link</span>
                </a>
                <h3>Example</h3>
                <p>
                  <span>Subject</span> - Body
                </p>
                <div class="email__priority">
                  <div>
                    <time class="email__datetime" datetime="2024-11-18 19:00">
                      Nov 5</time
                    >
                  </div>
                  <div class="email__star-container">
                    <input
                      type="checkbox"
                      class="star__checkbox"
                      name="star-email5"
                    />
                    <span class="star-icon"></span>
                    <label> star this email </label>
                  </div>
                </div>
              </div>
            </div>
          </li>
        </ul>
      </section>
      <aside id="email__content">
        <div id="email__content-view" class="email__content">
          <button id="email__exit-btn">
            <span>Close email</span>
            <span class="back-icon">Back</span>
          </button>
          <div id="email__subject">
            <h1>Click me!</h1>
          </div>
          <div id="email__sender">
              <span class="email__initials icon-btn" aria-hidden="true"> 
                <img
                alt="Kariyma Murphy profile photo"
                src="https://mir-s3-cdn-cf.behance.net/user/276/5e23674548351.5eae0a14a6ea0.jpg"
              /> 
                 </span>
            <div id="sender__info" class="home__list">
              <span>Kariyma Murphy &lt;kariymam@email.me&gt;</span>
              <span
                >Sent to me &lt;kariymam@email.me&gt;
                <time datetime="2024-11-22">Nov 22 2024</time>
                <time datetime="2024-11-22T18:00:0">at 6:00PM</time></span
              >
            </div>
          </div>
          <div id="reply">
            <iframe src="email-template.html" title="description" scrolling="no"></iframe>
            <div id="reply__actions">
              <form action="" method="get" id="reply__field">
                <div id="email__sender">
                  <div>
                    <span
                      class="email__initials icon-btn"
                      aria-hidden="true"
                    >
                      <span class="reply-icon"></span>
                    </span>
                  </div>
                  <div>
                    <span id="sender__name">Replying to Kariyma Murphy </span>
                  </div>
                  </div>
                <textarea name="reply-field" rows="5" cols="33" placeholder="Start typing..."></textarea>
                <div id="sender__actions--main">
                  <button class="primary-btn">
                    Send reply
                  </button>
                  <button class="primary-btn">
                    <span class="forward-icon"></span>
                    Forward
                  </button>
                </div>
              </form>
            </div>
          </div>
          <div id="sender__actions">
            <div id="sender__actions--more">
              <div class="actions">
                <div class="action">
                  <button class="icon-btn">
                    <span class="trash-icon">Trash</span>
                  </button>
                </div>
                <div class="action">
                  <button class="icon-btn">
                    <span class="archive-icon">Trash</span>
                  </button>
                </div>
                <div class="action">
                  <button class="icon-btn">
                    <span class="flame-icon">Trash</span>
                  </button>
                </div>
                <div class="action">
                  <button class="icon-btn">
                    <span class="more-icon">Trash</span>
                  </button>
                </div>
              </div>
              <div id="sender__actions--labels" class="actions">
                <span>Trash</span>
                <span>Archive</span>
                <span>Spam</span>
                <span>More</span>
              </div>
            </div>
          </div>
        </div>
      </aside>
    </main>
    <footer>
      <!-- <time id="current-date" class="mobile-hidden"></time> -->
    </footer>
    <script type="module">
      document.addEventListener("DOMContentLoaded", () => {
  const getElements = (ids) => {
    const elements = {};
    ids.forEach((id) => {
      elements[id] = document.getElementById(id);
    });
    return elements;
  };

  const elements = getElements([
    "primary-nav",
    "menu-btn",
    "close-btn",
    "view-email",
    "email-list",
    "main-header",
    "email__content",
    "email__exit-btn",
    "greeting",
    "current-date",
    "scrim",
    "email1",
  ]);

  const toggleEl = (
    el,
    action,
    openClasses = ["slide-out", "fade-in"],
    closeClasses = ["slide-in", "fade-out"]
  ) => {
    if (!el) return;
    const [openMain, openFade] = openClasses;
    const [closeMain, closeFade] = closeClasses;

    if (action === "open") {
      el.classList.add(openMain, openFade);
    } else if (action === "close") {
      el.classList.replace(openMain, closeMain);
      el.classList.replace(openFade, closeFade);

      setTimeout(() => el.classList.remove(closeMain, closeFade), 500);
    }
  };

  const currentDate = {
    date_options: {
      weekday: "long",
      year: "numeric",
      month: "long",
      day: "numeric",
    },
    realtimeClock: () => {
      const now = new Date();
      elements["current-date"].innerText = `It's ${now.toLocaleString(
        "en-US",
        currentDate.date_options
      )}`;
    },
  };

  const showEmailDialog = (e) => {
    e.preventDefault();

    if (!isSmallScreen()) {
      let currentTheme = elements["email-list"].getAttribute("data-theme");
      let targetTheme = currentTheme === "compact" ? "long" : "compact";
      elements["email-list"].setAttribute("data-theme", targetTheme);
    }

    elements["email-list"].classList.toggle("list-resize");
    elements["main-header"].classList.toggle("list-resize");
    elements["email__content"].classList.toggle("show");
    elements["email1"].querySelector(".card").classList.toggle("active");
  };

  const isSmallScreen = () => {
    return document.body.offsetWidth <= 768;
  };

  const handleResize = () => {
    if (isSmallScreen()) {
      elements["primary-nav"].classList.add("slider");
      elements["email-list"].setAttribute("data-theme", "compact");
      elements["scrim"].style.display = "";
      elements["menu-btn"].style.display = "";
      elements["close-btn"].style.display = "";
    } else {
      elements["primary-nav"].classList.remove("slider");
      elements["email-list"].setAttribute("data-theme", "long");
      currentDate.realtimeClock();
      elements["scrim"].style.display = "none";
      elements["menu-btn"].style.display = "none";
      elements["close-btn"].style.display = "none";
    }
  };

  const resizeObserver = new ResizeObserver(() => {
    handleResize();
  });

  resizeObserver.observe(document.body);

  elements["menu-btn"].addEventListener("click", (e) => {
    if (isSmallScreen()) toggleEl(elements["primary-nav"], "open");
  });

  elements["close-btn"].addEventListener("click", (e) => {
    if (isSmallScreen()) toggleEl(elements["primary-nav"], "close");
  });

  elements["view-email"].addEventListener("click", showEmailDialog);
  elements["email__exit-btn"].addEventListener("click", showEmailDialog);

  // Initial setup
  handleResize();
});

    </script>
  </body>
</html>
